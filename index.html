<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Gammel Korsanger-weekend</title>
  <style>
    /* ... (behold dit eksisterende CSS her) ... */
    .signup-form {
      display: flex;
      gap: 0.5em;
      margin-bottom: 2em;
      margin-top: 1.5em;
      justify-content: left;
    }
    .signup-form input[type="text"] {
      flex: 1 1 160px;
      font-size: 1.06em;
      padding: 0.3em 0.7em;
      border: 1.5px solid #e7c94b;
      border-radius: 8px;
    }
    .signup-form button {
      padding: 0.32em 1.2em;
      font-size: 1.06em;
      background: #e7c94b;
      color: #1a237e;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.2s;
    }
    .signup-form button:hover {
      background: #cfb53b;
    }
    .signup-message {
      margin-top: 0.5em;
      color: green;
      font-size: 0.98em;
      font-style: italic;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="Logo uden baggrund.png" alt="Thisted Kirkes Drenge- & Mandskor" class="logo">
    <h1>Gammel Korsanger-weekend</h1>
    <h2>10.–12. oktober 2025</h2>

    <!-- Tilmeldingsformular -->
    <form id="signup-form" class="signup-form" autocomplete="off">
      <input type="text" id="signup-name" name="navn" placeholder="Skriv dit navn" required>
      <button type="submit">Tilmeld</button>
    </form>
    <div id="signup-message" class="signup-message"></div>

    <div class="section-title">Deltagere:</div>
    <ul class="participants" id="participants-list">
      <li>Steffan Fonseca Huss</li>
      <li>Niels Granvig</li>
      <li>Kristian Fonseca Huss</li>
      <!-- Nye navne tilføjes automatisk -->
    </ul>
    <details>
      <summary>Se program</summary>
      <ul class="program-list">
        <li class="program-day">Fredag 10. oktober</li>
        <li>Kl. 18.30 – Ankomst og aftensmad</li>
        <li>Fællessang og hyggeligt samvær bagefter</li>
        <li class="program-day">Lørdag 11. oktober</li>
        <li>Øvning til søndagens gudstjeneste og andet repertoire</li>
        <li>Frokost</li>
        <li>Udflugt og socialt samvær</li>
        <li>Aftensmad</li>
        <li>Aftenhygge og mere sang</li>
        <li class="program-day">Søndag 12. oktober</li>
        <li>Kl. 9.30 – Møde ind til gudstjenesten</li>
        <li>Kl. 10.00 – Vi synger til gudstjenesten i Thisted Kirke</li>
        <li>Farvel og tak for denne gang efter gudstjenesten</li>
      </ul>
    </details>
    <div class="footer">
      Kontakt: Steffan Fonseca Huss – fonhuss@gmail.com<br>
      Kontakt: Niels Granvig – ng@thisted-kirke.dk<br>
      <span style="font-size:0.92em;">Thisted Kirkes Drenge- og Mandskor</span>
    </div>
  </div>
  <script>
    // Automatisk sortering
    function sortParticipants() {
      const ul = document.getElementById('participants-list');
      const items = Array.from(ul.querySelectorAll('li'));
      items.sort((a, b) => {
        const aFirst = a.textContent.trim().split(' ')[0].toLowerCase();
        const bFirst = b.textContent.trim().split(' ')[0].toLowerCase();
        return aFirst.localeCompare(bFirst, 'da');
      });
      ul.innerHTML = '';
      items.forEach(li => ul.appendChild(li));
    }
    sortParticipants();

    // Formular: Tilføj navn + send mail via Formspree
    document.getElementById('signup-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const nameInput = document.getElementById('signup-name');
      const name = nameInput.value.trim();
      if (!name) return;
      // Tilføj til listen
      const ul = document.getElementById('participants-list');
      const li = document.createElement('li');
      li.textContent = name;
      ul.appendChild(li);
      sortParticipants();
      nameInput.value = '';
      document.getElementById('signup-message').textContent = "Tak for din tilmelding!";

      // Send tilmeldingsmail via Formspree
      fetch("https://formspree.io/f/din-formspree-url", { // RET HER til din Formspree URL!
        method: "POST",
        headers: { 'Accept': 'application/json' },
        body: JSON.stringify({
          navn: name,
          besked: `Ny tilmelding til gammelkor-weekend: ${name}`,
          _replyto: "fonhuss@gmail.com", // valgfri
        })
      })
      .then(response => {
        // Hvis du vil sende forskellige beskeder ved succes/fejl, kan du gøre det her
      });
    });
  </script>
</body>
</html>
