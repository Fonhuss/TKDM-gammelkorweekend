<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Gammel Korsanger-weekend</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Times+New+Roman:wght@700&display=swap');
    body {
      background: #f7f6ee;
      font-family: 'Times New Roman', Times, serif;
      color: #1a237e;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 500px;
      margin: 2rem auto;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 2px 12px rgba(40,40,80,0.10);
      padding: 2rem 1.5rem;
      border: 2px solid #e7c94b;
    }
    .logo {
      display: block;
      margin: 0 auto 1.2rem auto;
      width: 110px;
      border-radius: 50%;
      border: 4px solid #e7c94b;
      background: #fff;
    }
    h1 {
      text-align: center;
      font-size: 1.6rem;
      color: #1a237e;
      margin-bottom: 0.2rem;
    }
    h2 {
      text-align: center;
      color: #5f450a;
      font-size: 1.1rem;
      margin-top: 0;
      margin-bottom: 1.2rem;
      font-style: italic;
    }
    .signup-form {
      display: flex;
      flex-direction: column;
      gap: 0.7em;
      margin-bottom: 2em;
      margin-top: 1.5em;
    }
    .signup-form input[type="text"],
    .signup-form input[type="email"] {
      font-size: 1.06em;
      padding: 0.4em 0.7em;
      border: 1.5px solid #e7c94b;
      border-radius: 8px;
    }
    .signup-form button {
      padding: 0.42em 1.2em;
      font-size: 1.06em;
      background: #e7c94b;
      color: #1a237e;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.2s;
      align-self: flex-start;
    }
    .signup-form button:hover {
      background: #cfb53b;
    }
    .signup-message {
      margin-top: 0.5em;
      color: green;
      font-size: 0.98em;
      font-style: italic;
    }
    .section-title {
      color: #1a237e;
      font-size: 1.08rem;
      font-weight: bold;
      margin-top: 1.8rem;
      margin-bottom: 0.5rem;
    }
    .participants {
      list-style: none;
      padding: 0;
      margin: 1rem 0 2rem 0;
      border: 1.5px solid #e7c94b;
      border-radius: 15px;
      background: #faf7e8;
      box-shadow: 0 1px 6px rgba(231,201,75,0.06);
    }
    .participants li {
      padding: 0.5rem 1rem;
      font-size: 1.08rem;
      border-bottom: 1px solid #e7c94b44;
    }
    .participants li:last-child {
      border-bottom: none;
    }
    .private-note {
      font-size: 0.92em;
      color: #5f450a;
      margin-bottom: 1.5rem;
      font-style: italic;
    }
    details {
      margin: 1.5rem 0 1rem 0;
      border: 1.5px solid #e7c94b;
      border-radius: 12px;
      background: #faf7e8;
      box-shadow: 0 1px 6px rgba(231,201,75,0.06);
      padding: 0.6rem 1rem 0.6rem 1.1rem;
      transition: box-shadow 0.3s;
    }
    summary {
      font-size: 1.07rem;
      font-weight: bold;
      color: #1a237e;
      cursor: pointer;
      outline: none;
      padding: 0.1rem 0;
    }
    details[open] {
      box-shadow: 0 2px 12px rgba(40,40,80,0.13);
    }
    .program-list {
      padding-left: 0.6rem;
      margin: 0.7rem 0 0.5rem 0;
      list-style: none;
      font-size: 1rem;
      color: #222;
    }
    .program-day {
      font-weight: bold;
      color: #1a237e;
      margin-top: 1.1rem;
      margin-bottom: 0.1rem;
      font-size: 1.06rem;
    }
    .footer {
      text-align: center;
      color: #5f450a;
      font-size: 0.92rem;
      margin-top: 2.3rem;
      opacity: 0.82;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="Logo uden baggrund.png" alt="Thisted Kirkes Drenge- & Mandskor" class="logo">
    <h1>Gammel Korsanger-weekend</h1>
    <h2>10.–12. oktober 2025</h2>

    <form id="signup-form" class="signup-form" autocomplete="off">
      <input type="text" id="signup-name" name="navn" placeholder="Dit navn" required>
      <input type="email" id="signup-email" name="email" placeholder="Din mail (vises ikke)" required>
      <button type="submit">Tilmeld</button>
    </form>
    <div id="signup-message" class="signup-message"></div>
    <p class="private-note">
      Mailadresser vises ikke offentligt. Du kan også tilmelde dig direkte til Steffan eller Niels.
    </p>

    <div class="section-title">Deltagere:</div>
    <ul class="participants" id="participants-list"></ul>

    <details>
      <summary>Se program</summary>
      <ul class="program-list">
        <li class="program-day">Fredag 10. oktober</li>
        <li>Kl. 18.30 – Ankomst og aftensmad</li>
        <li>Fællessang og hyggeligt samvær bagefter</li>
        <li class="program-day">Lørdag 11. oktober</li>
        <li>Øvning til søndagens gudstjeneste og andet repertoire</li>
        <li>Frokost</li>
        <li>Udflugt og socialt samvær</li>
        <li>Aftensmad</li>
        <li>Aftenhygge og mere sang</li>
        <li class="program-day">Søndag 12. oktober</li>
        <li>Kl. 9.30 – Møde ind til gudstjenesten</li>
        <li>Kl. 10.00 – Vi synger til gudstjenesten i Thisted Kirke</li>
        <li>Farvel og tak for denne gang efter gudstjenesten</li>
      </ul>
    </details>

    <div class="footer">
      Kontakt: Steffan Fonseca Huss – fonhuss@gmail.com<br>
      Kontakt: Niels Granvig – ng@thisted-kirke.dk<br>
      <span style="font-size:0.92em;">Thisted Kirkes Drenge- og Mandskor</span>
    </div>
  </div>

  <script>
    const ul = document.getElementById('participants-list');

    const savedParticipants = JSON.parse(localStorage.getItem('participants') || JSON.stringify([
      { name: "Steffan Fonseca Huss", email: "fonhuss@gmail.com" },
      { name: "Kristian Fonseca Huss", email: "kristian@example.com" }
    ]));

    function displayParticipants() {
      ul.innerHTML = '';
      savedParticipants.forEach(({ name }) => {
        const li = document.createElement('li');
        li.textContent = name;
        ul.appendChild(li);
      });
      sortParticipants();
    }

    function sortParticipants() {
      const items = Array.from(ul.querySelectorAll('li'));
      items.sort((a, b) => {
        const aFirst = a.textContent.trim().split(' ')[0].toLowerCase();
        const bFirst = b.textContent.trim().split(' ')[0].toLowerCase();
        return aFirst.localeCompare(bFirst, 'da');
      });
      ul.innerHTML = '';
      items.forEach(li => ul.appendChild(li));
    }

    displayParticipants();

    document.getElementById('signup-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('signup-name').value.trim();
      const email = document.getElementById('signup-email').value.trim();
      if (!name || !email) return;

      savedParticipants.push({ name, email });
      localStorage.setItem('participants', JSON.stringify(savedParticipants));
      displayParticipants();

      document.getElementById('signup-name').value = '';
      document.getElementById('signup-email').value = '';
      document.getElementById('signup-message').textContent = "Tak for din tilmelding!";

      fetch("https://formspree.io/f/mgvzpdaa", {
        method: "POST",
        headers: { 'Accept': 'application/json' },
        body: JSON.stringify({
          navn: name,
          email: email,
          besked: `Ny tilmelding til gammelkor-weekend:\nNavn: ${name}\nEmail: ${email}`,
          _replyto: email
        })
      });
    });
  </script>
</body>
</html>

